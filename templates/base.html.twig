{# Base layout - modernized bg + navbar icons #}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}TalentoDev{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    {# Bootstrap CSS & Icons #}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    {% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('styles/app.css') }}">
    {% endblock %}
</head>

<body class="d-flex flex-column min-vh-100">

    {# ---------------- NAVBAR ---------------- #}
    <nav class="navbar navbar-expand-lg navbar-gradient shadow-sm border-0 mb-4">
        <div class="container-fluid px-3">
            <div class="d-flex align-items-center w-100 justify-content-between">
            
            {# IZQUIERDA: marca #}
            <a class="navbar-brand text-white fw-bold d-flex align-items-center gap-2" href="/">
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none" viewBox="0 0 24 24" aria-hidden="true">
                <rect width="24" height="24" rx="6" fill="#fff" opacity="0.15"/>
                <path fill="#fff" d="M6.5 17l5.5-10 5.5 10h-11zm1.85-1.2h7.3L12 7.5l-3.65 8.3z"/>
                </svg>
                <span>TalentoDev</span>
            </a>

            {# DERECHA: acciones #}
            <div class="d-flex align-items-center nav-actions">
                <button id="themeToggle" class="btn btn-ghost" aria-label="Cambiar tema" title="Cambiar tema">
                <i class="bi bi-moon"></i>
                </button>
                <a href="{{ path('perfil_show', {'username': app.user ? app.user.username : 'me'}) }}"
                class="btn btn-ghost" aria-label="Mi perfil" title="Mi perfil">
                <i class="bi bi-person-circle"></i>
                </a>
            </div>

            </div>
        </div>
    </nav>



    {# ---------------- MAIN CONTENT ---------------- #}
    <main class="container flex-grow-1 d-flex flex-column" style="max-width: {{ content_max_width|default('1200px') }};">
        {% include 'components/flash_messages.html.twig' %}
        {% block body %}{% endblock %}
    </main>

    {# ---------------- FOOTER ---------------- #}
    <footer class="footer mt-3">
        <div class="container-fluid px-3">
            <div class="d-flex align-items-center justify-content-between w-100">
            <!-- Izquierda: marca -->
            <div class="text-muted small lh-sm">
                <span class="fw-semibold" style="color: var(--brand-color);">TalentoDev</span>
                &copy; {{ "now"|date("Y") }}. Desarrollado en UTN-FRSF.
            </div>

            <!-- Derecha: enlaces -->
            <ul class="nav gap-2 small mb-0">
                <li class="nav-item">
                <a href="mailto:lchaparro@frsf.utn.edu.ar" class="nav-link px-2 text-muted">Contacto</a>
                </li>
                <li class="nav-item">
                <a href="#" class="nav-link px-2 text-muted">Pol√≠tica de Privacidad</a>
                </li>
                <li class="nav-item">
                <a href="https://github.com/leandrochaparro19/talento-dev" class="nav-link px-2 text-muted" target="_blank">
                    <i class="bi bi-github"></i> GitHub
                </a>
                </li>
            </ul>
            </div>
        </div>
    </footer>


    {# ---------------- JAVASCRIPTS ---------------- #}
    {% block javascripts %}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" defer></script>
        <script>
            // Simple dark-mode toggle
            document.addEventListener('DOMContentLoaded', () => {
                const toggleBtn = document.getElementById('themeToggle');
                if (!toggleBtn) return;
                toggleBtn.addEventListener('click', () => {
                    document.documentElement.classList.toggle('dark-active');
                    // Icon swap
                    const icon = toggleBtn.querySelector('i');
                    icon.classList.toggle('bi-moon');
                    icon.classList.toggle('bi-brightness-high');
                });
            });
        </script>
    {% endblock %}
</body>
</html>